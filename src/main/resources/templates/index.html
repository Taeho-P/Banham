<!DOCTYPE html>

<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>반함 Banham</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content=" "/>
    <meta name="keywords" content=""/>
    <meta content="Pichforest" name="author"/>

    <link rel="shortcut icon" href="images/favicon.ico">

    <!-- Bootstrap css -->
    <link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css" id="bootstrap-style"/>

    <!-- Material Icon Css -->
    <link rel="stylesheet" href="/css/materialdesignicons.min.css" type="text/css"/>

    <!-- Unicon Css -->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css"/>


    <!-- Custom Css -->
    <link rel="stylesheet" href="/css/style.min.css" type="text/css"/>


    <!-- Swiper Css -->
    <link rel="stylesheet" href="/css/tiny-slider.css" type="text/css"/>
    <link rel="stylesheet" href="/css/swiper.min.css" type="text/css"/>

    <!-- Editor Swiper's CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />

    <!-- Map Css -->
    <link rel="stylesheet" href="/css/map.css">


</head>
<body data-bs-spy="scroll" data-bs-target="#navbar-navlist" data-bs-offset="71">

<!--Navbar Start-->


<!-- Start Navbar-->


    <div th:replace="/header :: header"></div>

<!--end Navbar-->
<!-- start kakaomap api service -->

<section class="mt-7 section service collection post-content">

    <!-- start container -->
    <div class="container">
        <div class="row ">
            <div class="col-lg-12">

                <div id="mapwrap">
                    <div id="map" style="width:100%;height:500px;"></div>
                    <div class="category">
                        <ul>
                            <li id="travelMenu" class="" onclick="changeMarker('travel')">
                                <span class="ico_comm ico_travel"></span>
                                여행
                            <li id="hotelMenu" class="" onclick="changeMarker('hotel')">
                                <span class="ico_comm ico_hotel"></span>
                                숙박
                            </li>
                            <li id="foodMenu" class="" onclick="changeMarker('food')">
                                <span class="ico_comm ico_food"></span>
                                음식점
                            </li>
                            <li id="shoppingMenu" class="" onclick="changeMarker('shopping')">
                                <span class="ico_comm ico_shopping"></span>
                                쇼핑
                            </li>
                            <li id="medicalMenu" class="" onclick="changeMarker('medical')">
                                <span class="ico_comm ico_medical"></span>
                                의료
                            </li>
                            <li id="serviceMenu" class="" onclick="changeMarker('service')">
                                <span class="ico_comm ico_service"></span>
                                서비스
                            </li>

                        </ul>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <!-- end container -->
</section>
<!-- end kakaomap api service -->
<!-- start weather service -->

<section class="mt-1 section service collection">

    <!-- start container -->
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-6">
                    <h2 class="fw-bold">오늘의 날씨</h2>
                    <p class="text-muted">오늘의 날씨를 확인하고 오늘 일정을 짜볼까요 ?</p>
                </div>
                <div class="weather">

                    <div class="divLoc">
                        <div id ="loc2"></div>
                        <div id="loc"></div>
                    </div>

                    <div id="weatherTemp"></div>


                    <div class="now">
                        <img id="weatherIcon">
                        <p id="weatherMain"></p>
                    </div>


                    <div id="pollution" >
                        <img id="pollIcon">
                        <p id = "p1"> 미세먼지 : </p>
                        <div><span id="weatherPol"></span></div>


                    </div>

                    <div id = "chart">
                        <div id = curve_chart >

                        </div>
                        <div id="min-marker"></div>
                        <div id="max-marker"></div>

                        <div id="img-marker">
                            <div><img></div>
                            <div><img></div>
                            <div><img></div>
                            <div><img></div>
                            <div><img></div>
                            <div><img></div>
                        </div>
                    </div>
                </div><!--/weather-->
            </div>
        </div>

    </div>
    <!-- end container -->
</section>
<!-- end weather service -->

<!-- start Best pet -->
<section class="testimonial section">
    <!-- start container -->
    <div class="container position-relative">
        <div class="row">
            <div class="col-lg-6">
                <h6 class="text-gradiant fw-bold">Best</h6>
                <h2 class="fw-bold">오늘의 내새끼 자랑</h2>
                <p class="text-muted">귀여운 우리집 새끼 자랑하고 가세요💖</p>
            </div>
        </div>

        <div class="testi-slider" id="testi-slider">
            <div class="item"  th:each="proudBoard:${proudBoardList}">
                <div class="testi-box p-4 position-relative">
                    <div class="tab-image">
                        <th:block th:if="${proudBoard.hasFile==1}">
                        <img th:src="@{|/upload/${proudBoard.repositoryFileName.get(0)}|}" alt="" class="img-fluid">
                        </th:block>
                        <th:block th:unless="${proudBoard.hasFile==1}">
                            <img th:src="@{|/upload/no_image_file/no_image_file.jpg|}" alt="" class="img-fluid">
                        </th:block>
                        <!-- <div class="avatar-xl">
                          <img src="images/img-1.png" alt=""
                              class="img-fluid rounded-circle border border-3 border-white">
                      </div> -->
                    </div>
                    <div class="mt-5 text-center">
                        <div class="slider-overtext">
                            <h5 class="fw-bold slider-overtext" th:text="${proudBoard.title}"></h5>
                            <p class="text-muted slider-overtext" th:text="${proudBoard.contents}"></p>
                        </div>
                        <button class="btn btn-sm btn-primary" th:onclick="|location.href='/board/proud/${proudBoard.bno}'|"><i class="mdi mdi-plus f-16 align-middle"></i>
                            구경하러가기
                        </button>
                    </div>
                </div>
            </div>
            <!-- slider item -->
        </div>
        <!-- End slider -->
    </div>
    <!-- end container -->
</section>
<!-- end Best pet -->

<!-- start editor choice -->
<section class="testimonial section">
    <!-- start container -->
    <div class="container position-relative">
        <div class="row">
            <div class="col-lg-6">
                <h6 class="text-gradiant fw-bold">Editor Choice</h6>
                <h2 class="fw-bold">에디터 추천 Pick</h2>
                <p class="text-muted">에디터가 엄선해서 고른 추천 스팟</p>
            </div>
        </div>

        <!-- Swiper -->
        <div class="swiper editorSwiper ">

            <div class="swiper-wrapper">

                <th:block th:each="board : ${editorBoardList}">
                    <div class="swiper-slide">
                        <div class="card">
                            <img class="card-img" th:src="@{|/upload/${board.storedFile.get(0)}|}" alt="editor-img1">
                            <div class="card-img-overlay text-white d-flex flex-column justify-content-end">
                                <h6 class="card-subtitle" th:text="${board.boardLocal}"></h6>
                                <h3 class="card-title" th:href="@{|/board/Editor/${board.bno}|}" th:text="${board.boardTitle}"></h3>
                                <div class="link d-flex">
                                   <a th:href="@{|/board/Editor/${board.bno}|}" class="card-link btn btn-sm btn-primary">추천글 더보기</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </th:block>

<!--                <div class="swiper-slide">-->
<!--                    <div class="card">-->
<!--                        <img class="card-img" src="/images/editor-img2.png" alt="editor-img2">-->
<!--                        <div class="card-img-overlay text-white d-flex flex-column justify-content-end">-->
<!--                            <h6 class="card-subtitle">경기도 가평군</h6>-->
<!--                            <h3 class="card-title">스위트몽</h3>-->
<!--                            <div class="d-flex justify-content-between align-items-center">-->
<!--                                <div class="ratings">-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star"></i>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                            <div class="link d-flex">-->
<!--                                &lt;!&ndash;                                <a href="#" class="card-link text-warning">구경하러가기</a>&ndash;&gt;-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="swiper-slide">-->
<!--                    <div class="card">-->
<!--                        <img class="card-img" src="/images/editor-img3.png" alt="editor-img3">-->
<!--                        <div class="card-img-overlay text-white d-flex flex-column justify-content-end">-->
<!--                            <h6 class="card-subtitle">충정남도 태안군</h6>-->
<!--                            <h3 class="card-title">바다가쓴시</h3>-->
<!--                            <div class="d-flex justify-content-between align-items-center">-->
<!--                                <div class="ratings">-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star"></i>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                            <div class="link d-flex">-->
<!--                                &lt;!&ndash;                                <a href="#" class="card-link text-warning">구경하러가기</a>&ndash;&gt;-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="swiper-slide">-->
<!--                    <div class="card">-->
<!--                        <img class="card-img" src="/images/editor-img4.png" alt="editor-img4">-->
<!--                        <div class="card-img-overlay text-white d-flex flex-column justify-content-end">-->
<!--                            <h6 class="card-subtitle">충남 아산시 </h6>-->
<!--                            <h3 class="card-title">포시즌발리</h3>-->
<!--                            <div class="d-flex justify-content-between align-items-center">-->
<!--                                <div class="ratings">-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star"></i>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                            <div class="link d-flex">-->
<!--                                &lt;!&ndash;                                <a href="#" class="card-link text-warning">구경하러가기</a>&ndash;&gt;-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="swiper-slide">-->
<!--                    <div class="card">-->
<!--                        <img class="card-img" src="/images/editor-img5.png" alt="editor-img5">-->
<!--                        <div class="card-img-overlay text-white d-flex flex-column justify-content-end">-->
<!--                            <h6 class="card-subtitle">충청남도 태안군</h6>-->
<!--                            <h3 class="card-title">하늘지기</h3>-->
<!--                            <div class="d-flex justify-content-between align-items-center">-->
<!--                                <div class="ratings">-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star rating-color"></i>-->
<!--                                    <i class="mdi mdi-star"></i>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                            <div class="link d-flex">-->
<!--                                &lt;!&ndash;                                <a href="#" class="card-link text-warning">구경하러가기</a>&ndash;&gt;-->




            </div>
            <div class="pt-5">
                <div class="swiper-pagination"></div>
            </div>
        </div>
        <!-- End slider -->
    </div>
    <!-- end container -->
</section>
<!-- end editor choice -->

<!-- start adopt -->
<section class="home bg-image" id="home">
    <!-- start container -->
    <div class="container">
        <div class="row align-items-center">

            <div class="col-lg-6">
                <div class="home-content home-heading">
                    <h2 class="fw-bold">#사지말고 입양 해주세요 <span class="text-primary"> </span></h2>
                    <p class="text-muted my-4"> 따뜻한 보금자리를 기다리는 동물들에게 새로운 가족이 되어주세요.</p>
                    <button class="btn-dark twosliderbtn" ><a href="/board/adopt">더보기</a></button>
                </div>
                <div class="client-slider clients-slider">
                    <!--입양 롤링-->
                    <th:block th:each="adopt : ${adoptIndexList}">
                    <div class="item">
                        <div class="card position-relative overflow-hidden m-2 m-lg-0">
                            <img th:src="@{|/upload/${adopt.storeName}|}" alt="logo-img" class="img-fluid">
                            <div class="card-body slider-content position-relative">
                                <h5 class="fw-bold" th:text="${adopt.title}"></h5>
                                <p class="mb-2 slider-overtext" th:text="${adopt.content}"></p>
                                 <button class="btn btn-sm btn-primary">
                                     <a th:href="@{|/board/adopt/view/${adopt.id}|}">
                                         확인하기
                                     </a>
                                  </button>
                            </div>
                        </div>
                    </div>
                    </th:block>
                    <!--/입양 롤링-->

                    <!-- slider item -->
                </div>
                <!-- End slider -->
            </div>

            <div class="col-lg-6">
                <div class="home-content home-heading">
                    <h2 class="fw-bold">#실종 전단지 <span class="text-primary"></span></h2>
                    <p class="text-muted my-4">
                        동물을 빨리 찾을 수 있도록 실종 정보를 공유하는 공간입니다</p>
                    <button class="btn-dark twosliderbtn"><a href="/board/adopt">더보기</a></button>
                </div>
                <div class="client-slider2" id="clients-slider">
                    <!--입양 롤링-->
                    <th:block th:each="missing : ${misIndexList}">
                        <div class="item">
                            <div class="card position-relative overflow-hidden m-2 m-lg-0">
                                <img th:src="@{|/upload/${missing.storeName}|}" alt="logo-img" class="img-fluid">
                                <div class="card-body slider-content position-relative">
                                    <h5 class="fw-bold" th:text="${missing.title}"></h5>
                                    <p class="mb-2 slider-overtext" th:text="${missing.content}"></p>
                                    <button class="btn btn-sm btn-primary">
                                        <a th:href="@{|/board/missing/view/${missing.id}|}">
                                            확인하기
                                        </a>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </th:block>
                    <!--/입양 롤링-->
                    <!-- slider item -->
                    <!--<div class="item">
                        <div class="card position-relative overflow-hidden m-2 m-lg-0">
                            <img src="/images/img-1.png" alt="logo-img" class="img-fluid">
                            <div class="card-body slider-content position-relative">
                                <p class="mb-2">귀여운 발바닥이 매력적</p>
                                <h5 class="fw-bold">너무귀엽고 귀엽다</h5>
                                <button class="btn btn-sm btn-primary">
                                    확인하기
                                </button>
                            </div>
                        </div>
                    </div>
                    &lt;!&ndash; slider item &ndash;&gt;
                    <div class="item">
                        <div class="card position-relative overflow-hidden m-2 m-lg-0">
                            <img src="/images/img-1.png" alt="logo-img" class="img-fluid">
                            <div class="card-body slider-content position-relative">
                                <p class="mb-2">귀여운 발바닥이 매력적</p>
                                <h5 class="fw-bold">너무귀엽고 귀엽다</h5>
                                <button class="btn btn-sm btn-primary">
                                    확인하기
                                </button>
                            </div>
                        </div>
                    </div>
                    &lt;!&ndash; slider item &ndash;&gt;
                    <div class="item">
                        <div class="card position-relative overflow-hidden m-2 m-lg-0">
                            <img src="/images/img-1.png" alt="logo-img" class="img-fluid">
                            <div class="card-body slider-content position-relative">
                                <p class="mb-2">귀여운 발바닥이 매력적</p>
                                <h5 class="fw-bold">너무귀엽고 귀엽다</h5>
                                <button class="btn btn-sm btn-primary">
                                    확인하기
                                </button>
                            </div>
                        </div>
                    </div>-->
                    <!-- slider item -->
                </div>
                <!-- End slider -->
            </div>


        </div>
    </div>
    <!-- end container -->
</section>
<!-- end adopt -->

<!-- start notice -->
<section class="service bg-gray" id="collection">
    <!-- start container -->
<!--    <div class="container notice">-->
<!--        <div class="row ">-->
<!--            <div class="col-lg-12 ">-->
<!--                <div class="rollingbanner">-->
<!--                    <div class="title">공지사항</div>-->
<!--                    <div class="wrap">-->
<!--                        <ul>-->
<!--                            <li><a href="#">[공지사항] 반함 현대백화점 오프라인 팝업스토어 오픈! </a></li>-->
<!--                            <li class="next"><a href="#">[이벤트] 반함 홈페이지 리뉴얼 이벤트 </a></li>-->
<!--                            <li class="current"><a href="#">[공지사항] 9월 21일 홈페이지 점검 안내</a></li>-->
<!--                            <li><a href="#">[이벤트] 반려동물과 함께 추억남기기 이벤트</a></li>-->
<!--                            <li class="prev"><a href="#">[이벤트] 내새끼 자랑 Best 당첨자 안내</a></li>-->
<!--                        </ul>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--    </div>-->

<!--    <div style='height:20px;'><a href='/board/Notice/bno' text='board.boardTitle'></a></div>-->

    <input type="hidden" id="notice1" th:value="${noticeList.get(0).toString()}">
    <input type="hidden" id="notice2" th:value="${noticeList.get(1).toString()}">
    <input type="hidden" id="notice3" th:value="${noticeList.get(2).toString()}">
    <input type="hidden" id="notice4" th:value="${noticeList.get(3).toString()}">
    <input type="hidden" id="notice5" th:value="${noticeList.get(4).toString()}">

    <div class="container notice">
        <div class="row ">
            <div class="col-lg-12 ">
                <div class="rollingbanner">
                    <div class="title">공지사항</div>
                    <div class="wrap d-flex flex-row">
                        <div class="row">
                            <div class="col-8" id="srolling">
                                <!-- height 를 늘일 경우 노출되는 아이템이 늘어납니다. -->
                                <div class="rollingtext slider-overtext" id="srolling2"
                                     style="position: relative;overflow:hidden;height:30px;"></div>
                            </div>


                            <div class="col-4">
                                <div class="notice-viewmore"><a class="notice-link" href="/board/NoticeBoard"><span class="notice-viewtext">더보기</span></a></div>
                                <div id="n_click2" class="btn btn-sm btn-primary" style="float: right;">다음</div>
                                <div id="p_click2" class="btn btn-sm btn-primary " style="float: right;right:4px;">이전</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- end container -->
</section>
<!-- end notice -->

<!-- start footer -->
<div th:replace="/footer :: footer"></div>
<!-- end footer-->

<!--Bootstrap Js-->
<script src="/js/bootstrap.bundle.min.js"></script>


<!-- Slider Js -->
<script src="/js/tiny-slider.js"></script>
<script src="/js/swiper.min.js"></script>

<!-- Editor Swiper Js-->
<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>

<!-- Notice Js-->
<script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
<script src="/js/main.js"></script>

<!-- counter -->
<script src="/js/counter.init.js"></script>

<!-- App Js -->
<script src="/js/app.js"></script>

<!-- editor slider -->

<script>
    var swiper = new Swiper(".editorSwiper", {
        slidesPerView: 1,
        spaceBetween: 10,
        adoptPagination: {
            el: ".swiper-adoptPagination",
            clickable: true,
        },
        breakpoints: {
            640: {
                slidesPerView: 2,
                spaceBetween: 20,
            },
            768: {
                slidesPerView: 3,
                spaceBetween: 40,
            },
            1024: {
                slidesPerView: 4,
                spaceBetween: 50,
            },
        },
    });
</script>
<script>
    var slider = tns({
        container: '.client-slider',
        loop: true,
        autoplay: true,
        mouseDrag: true,
        controls: false,
        navPosition: "bottom",
        nav: true,
        autoplayTimeout: 4000,
        speed: 900,
        animateIn: "fadeIn",
        animateOut: "fadeOut",
        controlsText: ['&#8592;', '&#8594;'],
        autoplayButtonOutput: false,
        gutter: 30,
        responsive: {

            992: {
                gutter: 30,
                items: 1.5
            },

        }
    });

</script>
<script>
    var slider = tns({
        container: '.client-slider2',
        loop: true,
        autoplay: true,
        mouseDrag: true,
        controls: false,
        navPosition: "bottom",
        nav: true,
        autoplayTimeout: 4000,
        speed: 900,
        animateIn: "fadeIn",
        animateOut: "fadeOut",
        controlsText: ['&#8592;', '&#8594;'],
        autoplayButtonOutput: false,
        gutter: 30,
        responsive: {

            992: {
                gutter: 30,
                items: 1.5
            },

        }
    });

</script>

<script>
    new Swiper('.swiper-container', {
        loop: true,
        slidesPerView: 1,
        paginationClickable: true,
        spaceBetween: 20,
        adoptPagination: '.swiper-adoptPagination',
        slidesPerView: 'auto',
        paginationClickable: true,
        spaceBetween: 0,
        centeredSlides: true,
        speed: 1500,
        nextButton: '.swiper-button-next',
        prevButton: '.swiper-button-prev',
    });
</script>

<script>
    var slider = tns({
        container: '.testi-slider',
        loop: true,
        autoplay: true,
        mouseDrag: true,
        controls: true,
        navPosition: "bottom",
        nav: false,
        autoplayTimeout: 4000,
        speed: 900,
        animateIn: "fadeIn",
        animateOut: "fadeOut",
        controlsText: ['&#8592;', '&#8594;'],
        autoplayButtonOutput: false,
        gutter: 30,
        responsive: {

            992: {
                gutter: 30,
                items: 3
            },
        }
    });

</script>
<!-- 공지사항 세로 롤링시작-->
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
<script type="text/javascript" src="/js/jquery-slider-rolling.js"></script>
<script th:inline="javascript">
    /*<![CDATA[*/

    jQuery(function() {


        const no1 = document.querySelector("#notice1").value;
        const no2 = document.querySelector("#notice2").value;
        const no3 = document.querySelector("#notice3").value;
        const no4 = document.querySelector("#notice4").value;
        const no5 = document.querySelector("#notice5").value;

        let data = [ no1, no2, no3, no4, no5 ];



        /*
        data : [ ], // 롤링될 아이템 데이터
        name : '#srolling_area', // 롤링 대상 element
        item_count : 1, // 한번 이동될 아이템 수
        cache_count : 5, // 최초 한번 임시로 생성될 아이템 수 (고치지마세요)
        width : 100, // 노출될 아이템 크기 (필수 : 실제 아이템 보다 약간 크게 설정하세요)
        height : 100, // 노출될 아이템 크기 (필수 : 실제 아이템 보다 약간 크게 설정하세요)
        auto : false, // 자동 이동 설정
        delay : 1000, // 자동 이동 후 대기 시간
        delay_frame : 500, // 이동 속도 (움직이는 효과를 없애고 싶으면 0)
        move : 'left', // 이동 방향 left , right , up , down
        prev : '#srolling_prev', // 이전 아이템 이동 버튼 element
        next : '#srolling_next', // 다음 아이템 이동 버튼 element
        is_bullet : false, // 블릿 사용여부
        bullet : '#srolling_bullet', // 블릿 버튼 element
        bullet_item : '#srolling_bullet_item', // 블릿 버튼 item element
        bullet_style_func : null // 선택된 블릿 효과주기
        */


        // 위아래 슬라이드 소스
        jQuery("#srolling2").srolling({
            data : data,
            width : 800,
            height : 25,
            auto : true,
            delay : 1000,
            delay_frame : 500,
            move : 'up',
            prev : '#p_click2',
            next : '#n_click2'
        });


    });
    /*]]>*/

</script>
<!--/롤링 끝-->

<script type="text/javascript"
        src="//dapi.kakao.com/v2/maps/sdk.js?appkey=e6e2fbdddf2598b484e10300b7622f66&&libraries=services,drawing,clusterer"></script>

<!--날씨-->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<!--maker modal end-->

<!--kakao maker modal end-->

<script th:inline="javascript">


    /* 해야할일
    json data parse해서 DB에 넣기
    DBdata랑 json data 비교대조해서 첨삭코드 만들기 @스케쥴 어노테이션 참고해서 구현해볼것 */

    let mapContainer = document.getElementById('map'); // 지도를 표시할 div
    let lat = 37.498095; // 기본 위도(강남역)
    let lon = 127.027610; // 기본 경도(강남역)
    let mapOption; // 맵 옵션 (위도/경도 세팅, 확대레벨 세팅)
    let map; // 띄워줄 맵 객체
    let serviceList = [[${serviceList}]]; //서비스
    let foodList = [[${foodList}]], // 음식점
        travelList = [[${travelList}]], // 여행
        shoppingList = [[${shoppingList}]], // 쇼핑
        medicalList = [[${medicalList}]], //의료
        hotelList = [[${hotelList}]]; // 숙박
    let serviceMarker = [],
        foodMarker = [],
        travelMarker = [],
        shoppingMarker = [],
        medicalMarker = [],
        hotelMarker = [];
    let clusterer = new kakao.maps.MarkerClusterer({
        map: map,
        averageCenter: true,
        minLevel: 7
    });
    let imageSize = new kakao.maps.Size(22, 26);
    let imageOptions = {
        spriteOrigin: new kakao.maps.Point(10, 0),
        spriteSize: new kakao.maps.Size(36, 98)
    };

    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function (position) {
            lat = position.coords.latitude;
            lon = position.coords.longitude;
            mapOption = {
                center: new kakao.maps.LatLng(lat, lon),
                level: 2
            };
            map = new kakao.maps.Map(mapContainer, mapOption);
            map.setMaxLevel(8);
            // 현재 위치 가져오기

            console.log("현재 위치", lat, lon);
            getWeather(lat, lon);
            getPollution(lat, lon);
            getLoc(lat, lon);
            getForecast(lat, lon);


        }, error);
    } else {
        mapOption = {
            center: new kakao.maps.LatLng(lat, lon),
            level: 2
        };
        map = new kakao.maps.Map(mapContainer, mapOption);
        map.setMaxLevel(8);

        console.log("현재 위치", lat, lon);
        getWeather(lat, lon);
        getPollution(lat, lon);
        getLoc(lat, lon);
        getForecast(lat, lon);
    }

    function error() {
        mapOption = {
            center: new kakao.maps.LatLng(lat, lon),
            level: 2
        };
        map = new kakao.maps.Map(mapContainer, mapOption);
        map.setMaxLevel(9);

        console.log("현재 위치", lat, lon);
        getWeather(lat, lon);
        getPollution(lat, lon);
        getLoc(lat, lon);
        getForecast(lat, lon);
    }


    let imageSrc = "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png";

    function createMarkerImage(src, size, options) {
        let markerImage = new kakao.maps.MarkerImage(src, size, options);
        return markerImage;
    }

    function createMarker(position, image) {
        let marker = new kakao.maps.Marker({
            position: position,
            image: image,
            imageSize: imageSize
        });
        return marker;
    }

    // 마커 별로 모달에 정보 띄워주는 function
    function createMarkersByCategory(category, dataList, markerArray) {
        let marker;
        for (let i = 0; i < dataList.length; i++) {
            let data = dataList[i];
            let title = data.title;
            let addr1 = data.addr1;
            let addr2 = data.addr2;
            let tel = data.tel;
            let openTime = data.openTime;
            let indoor = data.indoor;
            let outdoor = data.outdoor;
            let parking = data.parking;
            let homepage = data.homepage;

            let latlng = new kakao.maps.LatLng(data.latitude, data.longitude);
            marker = createMarker(latlng, createMarkerImage(imageSrc, imageSize));

            kakao.maps.event.addListener(marker, 'click', function () {
                const modal = document.getElementById("modal");

                document.getElementById("place_title").innerText = title;
                document.getElementById("place_tel").innerText = tel;
                document.getElementById("place_addr1").innerText = addr1;
                document.getElementById("place_addr2").innerText = addr2;
                document.getElementById("place_openTime").innerText = openTime;
                document.getElementById("place_indoor").innerText = indoor;
                document.getElementById("place_outdoor").innerText = outdoor;
                document.getElementById("place_parking").innerText = parking;
                document.getElementById("place_homepage").innerText = homepage;
                modal.style.display = "block";
            });
            markerArray.push(marker);
        }

    }

    function changeMarker(type) {
        let serviceMenu = document.getElementById('serviceMenu');
        let foodMenu = document.getElementById('foodMenu');
        let travelMenu = document.getElementById('travelMenu');
        let medicalMenu = document.getElementById('medicalMenu');
        let hotelMenu = document.getElementById('hotelMenu');
        let shoppingMenu = document.getElementById('shoppingMenu');
        // 다른 카테고리 메뉴 변수 더 만들어서 저장하기

        // 선택한 카테고리 메뉴를 강조 표시하고 다른 카테고리 메뉴를 초기화
        if (type === 'service') {
            serviceMenu.className = 'menu_selected';
            foodMenu.className = '';
            travelMenu.className = '';
            medicalMenu.className = '';
            hotelMenu.className = '';
            shoppingMenu.className = '';
        } else if (type === 'food') {
            foodMenu.className = 'menu_selected';
            serviceMenu.className = '';
            travelMenu.className = '';
            medicalMenu.className = '';
            hotelMenu.className = '';
            shoppingMenu.className = '';
        } else if (type === 'shopping') {
            shoppingMenu.className = 'menu_selected';
            foodMenu.className = '';
            travelMenu.className = '';
            medicalMenu.className = '';
            hotelMenu.className = '';
            serviceMenu.className = '';
        } else if (type === 'hotel') {
            hotelMenu.className = 'menu_selected';
            foodMenu.className = '';
            travelMenu.className = '';
            medicalMenu.className = '';
            shoppingMenu.className = '';
            serviceMenu.className = '';
        } else if (type === 'travel') {
            travelMenu.className = 'menu_selected';
            foodMenu.className = '';
            serviceMenu.className = '';
            medicalMenu.className = '';
            hotelMenu.className = '';
            shoppingMenu.className = '';
        } else if (type === 'medical') {
            medicalMenu.className = 'menu_selected';
            foodMenu.className = '';
            travelMenu.className = '';
            hotelMenu.className = '';
            shoppingMenu.className = '';
            serviceMenu.className = '';
        }

        // 선택한 카테고리에 해당하는 마커만 표시
        setMarkersByCategory(type);
    }

    function createrMarker(category) {
        if (category === 'service') {
            createMarkersByCategory(category, serviceList, serviceMarker);
        }
        if (category === 'food') {
            createMarkersByCategory(category, foodList, foodMarker);
        }
        if (category === 'travel') {
            createMarkersByCategory(category, travelList, travelMarker);
        }
        if (category === 'medical') {
            createMarkersByCategory(category, medicalList, medicalMarker);
        }
        if (category === 'hotel') {
            createMarkersByCategory(category, hotelList, hotelMarker);
        }
        if (category === 'shopping') {
            createMarkersByCategory(category, shoppingList, shoppingMarker);
        }
        // 선택된 카테고리에 해당하는 마커만 생성하고 표시
    }

    function setMarkersByCategory(category) {
        createrMarker(category);
        // 각 카테고리에 해당하는 마커들만 표시하도록 설정
        if (category === 'service') {
            for (let i = 0; i < serviceMarker.length; i++) {
                serviceMarker[i].setMap(map);
            }

        } else {
            for (let i = 0; i < serviceMarker.length; i++) {
                serviceMarker[i].setMap(null);
            }
        }

        if (category === 'food') {
            for (let i = 0; i < foodMarker.length; i++) {
                foodMarker[i].setMap(map);
            }
        } else {
            for (let i = 0; i < foodMarker.length; i++) {
                foodMarker[i].setMap(null);
            }
        }

        if (category === 'travel') {
            for (let i = 0; i < travelMarker.length; i++) {
                travelMarker[i].setMap(map);
            }
        } else {
            for (let i = 0; i < travelMarker.length; i++) {
                travelMarker[i].setMap(null);
            }
        }

        if (category === 'shopping') {
            for (let i = 0; i < shoppingMarker.length; i++) {
                shoppingMarker[i].setMap(map);
            }
        } else {
            for (let i = 0; i < shoppingMarker.length; i++) {
                shoppingMarker[i].setMap(null);
            }
        }

        if (category === 'medical') {
            for (let i = 0; i < medicalMarker.length; i++) {
                medicalMarker[i].setMap(map);
            }
        } else {
            for (let i = 0; i < medicalMarker.length; i++) {
                medicalMarker[i].setMap(null);
            }
        }

        if (category === 'hotel') {
            for (let i = 0; i < hotelMarker.length; i++) {
                hotelMarker[i].setMap(map);
            }
        } else {
            for (let i = 0; i < hotelMarker.length; i++) {
                hotelMarker[i].setMap(null);
            }
        }
        cluster(category);
    }

    function clearCluster() {
        clusterer.clear(); // 클러스터러에서 마커 제거
    }

    function cluster(category) {
        clearCluster();
        let markersToAdd;
        if (category === 'service') {
            markersToAdd = serviceMarker;
        } else if (category === 'food') {
            markersToAdd = foodMarker;
        } else if (category === 'travel') {
            markersToAdd = travelMarker;
        } else if (category === 'medical') {
            markersToAdd = medicalMarker;
        } else if (category === 'hotel') {
            markersToAdd = hotelMarker;
        } else if (category === 'shopping') {
            markersToAdd = shoppingMarker;
        }

        if (markersToAdd) {
            clusterer.addMarkers(markersToAdd);
            clusterer.setMap(map);
        }
    }

    //modal창 제어하기
    const closeButton = document.getElementsByClassName("close_button")[0];
    closeButton.addEventListener("click", closeModal);

    function closeModal() {
        const modal = document.getElementById("modal");
        modal.style.display = "none";
    }

    // 모달 닫기 버튼 클릭 시 closeModal 함수 호출
</script>
<script>
    async function getLoc(lat, lon) {
        const apiKey = '8e2aafc9141104413adfd78425609d10'; // 실제 API 키로 변경

        try {
            const response = await fetch(`https://dapi.kakao.com/v2/local/geo/coord2regioncode.json?x=${lon}&y=${lat}`, {
                headers: {
                    'Authorization': `KakaoAK ${apiKey}`
                },
            });

            if (!response.ok) {
                throw new Error('Network response was not ok');
            }

            const data = await response.json();

            // 추출된 region_3depth_name 값 출력
            const regionName1 = data.documents[0].region_1depth_name;
            const regionName2 = data.documents[0].region_3depth_name;

            console.log("Region Name1:", regionName1);
            console.log("Region Name2:", regionName2);
            loc.innerHTML = `${regionName1}`;
            loc2.innerHTML = `${regionName2}`;
        } catch (error) {
            console.error('Error:', error);
        }
    }

    let iconWeathers = [];
    function getForecast(lat, lon) {
        fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&cnt=10&appid=e27648845eed31c67a61863e536ae668&units=metric`)
            .then(res => res.json())
            .then(data => {
                console.log(data);
                const timefull =data.list[2].dt_txt;
                // console.log(timefull);

                let time = (Number)(timefull.charAt(11) + timefull.charAt(12));
                // console.log(time);

                const timelist = [];
                for (let i = 0; i < 6; i++) {
                    timelist.push(time + "시");
                    time += 3;
                    if (time == 24) {
                        time = 0;
                    }

                }


                const tempValues = [];
                let j = 0;
                for (let i = 2; i < 8; i++) {
                    const tempValue = data.list[i].main.temp;

                    tempValues.push(tempValue);
                    iconWeathers.push(data.list[i].weather[0].icon);
                    console.log(iconWeathers[j]);
                    console.log(tempValues[j++]);

                }
                drawChart(timelist, tempValues);
            })
    }

    //날씨온도차트
    google.charts.load('current', {'packages': ['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart(timelist, tempValues) {
        var data = google.visualization.arrayToDataTable([
            ['시간', '온도'],
            [timelist[0], tempValues[0]],
            [timelist[1], tempValues[1]],
            [timelist[2], tempValues[2]],
            [timelist[3], tempValues[3]],
            [timelist[4], tempValues[4]],
            [timelist[5], tempValues[5]]
        ]);


        const options = {
            curveType: 'function',
            legend: 'none',
            colors: ['black'],
            backgroundColor: { fill: 'transparent' },
            lineWidth: 0.5,
            vAxis: {
                minValue: Math.floor(Math.min(...tempValues)) - 2,
                // maxValue: Math.ceil(Math.max(...tempValues))+2,
                gridlines: { count: 0 }


            },
            hAxis:{
                gridlines: { count: 0 },
                textStyle: {
                    fontSize: 9 // 원하는 폰트 사이즈로 변경
                }

            },
            series: {
                0: {
                    pointsVisible: false

                }
            }
        };
        //차트 안의 마커 위치 구하기
        function placeMarker(dataTable) {
            console.log('placeMarker');
            var cli = this.getChartLayoutInterface();
            var chartArea = cli.getChartAreaBoundingBox();
            let maxNum = Math.max(...tempValues);
            let minNum = Math.min(...tempValues);
            let indexMax = tempValues.indexOf(maxNum);
            let indexMin = tempValues.indexOf(minNum);
            console.log("indexMin: " + indexMin);

            document.querySelector('#max-marker').style.top = Math.floor(cli.getYLocation(dataTable.getValue(indexMax, 1))) - 30 + "px";
            document.querySelector('#max-marker').style.left = Math.floor(cli.getXLocation(indexMax)) -63 + "px";
            document.querySelector('#max-marker').innerHTML = (parseInt(maxNum)) + "&#176;";


            document.querySelector('#min-marker').style.top = Math.floor(cli.getYLocation(dataTable.getValue(indexMin, 1))) - 30 + "px";
            document.querySelector('#min-marker').style.left = Math.floor(cli.getXLocation(indexMin)) -63 + "px";
            document.querySelector('#min-marker').innerHTML = (parseInt(minNum)) + "&#176;";

            for(let i =0 ;i<6;i++){
                document.querySelector(`#img-marker :nth-child(${i+1})`).style.left = Math.floor(cli.getXLocation(i)) +"px";
                // document.querySelector('#img-marker div:nth-child(${i + 1}) img').src = `https://openweathermap.org/img/wn/${iconWeathers[i]}@2x.png`;

                var imgElement = document.querySelector(`#img-marker div:nth-child(${i + 1}) img`);
                imgElement.src = `https://openweathermap.org/img/wn/${iconWeathers[i]}@2x.png`;
            }


        }


        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        //마커추가
        google.visualization.events.addListener(chart, 'ready',
            placeMarker.bind(chart, data));

        chart.draw(data, options);
    }

    function getWeather(lat, lon) {
        fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=e27648845eed31c67a61863e536ae668&units=metric`)
            .then(res => res.json())
            .then(data => {
                console.log(data);

                if (data.weather && data.weather.length > 0) {
                    const temp = data.main.temp;
                    const weathers = data.weather[data.weather.length - 1];
                    const weatherId = parseInt(`${weathers.id}`);

                    <!--날씨 상태 번역-->
                    let weatherInfo;

                    if(weatherId == 801){
                        weatherInfo = '조금 흐림';
                    }else if (weatherId >= 802){
                        weatherInfo = '흐림';
                    }else{
                        switch (weatherId/100){
                            case 2: weatherInfo = '천둥'; break;
                            case 3: weatherInfo = '이슬비'; break;
                            case 5: weatherInfo = '비'; break;
                            case 6: weatherInfo = '눈'; break;
                            case 7: weatherInfo = '안개'; break;
                            case 8 : weatherInfo = '맑음'; break;

                        }
                    }

                    weatherIcon.src = `https://openweathermap.org/img/wn/${weathers.icon}@2x.png`;
                    let tempFloat = parseFloat(`${temp}`);
                    let tempStr = tempFloat.toFixed(1);
                    weatherTemp.innerHTML = `${tempStr} &#176;`;
                    weatherMain.innerHTML = `${weatherInfo}`;
                } else {
                    console.error('날씨 데이터를 사용할 수 없습니다.');
                }
            })
            .catch(error => {
                console.error('날씨 데이터를 불러오는 중 오류 발생:', error);
            });
    }


    let strPoll;
    const styPoll = document.querySelector('#weatherPoll');

    function getPollution(lat, lon) {
        fetch(`http://api.openweathermap.org/data/2.5/air_pollution?lat=${lat}&lon=${lon}&appid=e27648845eed31c67a61863e536ae668&units=metric`)
            .then(res => res.json())
            .then(data => {
                console.log(data);
                const pollution = data.list[0].main.aqi;
                console.log("미세먼지 단계: " + pollution);
                switch (Number(pollution)) {
                    case 1:
                        strPoll = " 좋음 ";

                        console.log(strPoll);
                        document.getElementById("weatherPol").style.backgroundColor = 'rgba(133, 193, 223, 0.8)';
                        pollIcon.src = 'https://i.ibb.co/cYVKW63/Smiling.png';
                        break;

                    case 2:
                        strPoll = " 보통 ";
                        console.log(strPoll);
                        document.getElementById("weatherPol").style.backgroundColor = 'rgba(187, 221, 114, 0.8)';
                        pollIcon.src = 'https://i.ibb.co/R32zYGf/Happy.png';
                        break;

                    case 3:
                        strPoll = " 보통 ";
                        console.log(strPoll);
                        document.getElementById("weatherPol").style.backgroundColor = 'rgba(133, 221, 114, 0.8)';
                        pollIcon.src = 'https://i.ibb.co/sRZBSg9/Neutral.png';
                        break;

                    case 4:
                        strPoll = " 나쁨 ";
                        console.log(strPoll);
                        document.getElementById("weatherPol").style.backgroundColor = 'rgba(221, 114, 135, 0.8)';
                        pollIcon.src = 'https://i.ibb.co/dBPD0Nh/Sad.png';
                        break;

                    case 5:
                        strPoll = " 아주 나쁨 ";
                        console.log(strPoll);
                        document.getElementById("weatherPol").style.backgroundColor = 'rgba(221, 114, 135, 0.8)';
                        pollIcon.src = 'https://i.ibb.co/xDtPM8y/Disgusting.png';
                        break;

                    default:
                        strPoll = "테스트";
                        console.log(strPoll);
                        break;
                }
                weatherPol.innerHTML = ` ${strPoll} `;
            })
    }

    // useEffect(() => {
    //   getCurrentLocation();
    // }, []);

</script>


</body>

</html>