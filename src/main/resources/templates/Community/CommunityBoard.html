<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ÏûêÏú† Í≤åÏãúÌåê</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content=" "/>
    <meta name="keywords" content=""/>
    <meta content="Pichforest" name="author"/>

    <!-- Bootstrap css -->
    <link rel="shortcut icon" href="images/favicon.ico">

    <!-- Bootstrap css -->
    <link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css" id="bootstrap-style" />

    <!-- Material Icon Css -->
    <link rel="stylesheet" href="/css/materialdesignicons.min.css" type="text/css" />

    <!-- Unicon Css -->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css" />

    <!-- Custom Css -->
    <link rel="stylesheet" href="/css/style.min.css" type="text/css" />

</head>
<body data-bs-spy="scroll" data-bs-target="#navbar-navlist" data-bs-offset="71">
<!--Start Navbar-->
<div th:replace="/header :: header"></div>
<!--end Navbar-->

<section class="section position-relative overflow-hidden"
         style="background-image: url(/images/login_bg.png); background-repeat: no-repeat; background-size: cover;top: 95px;">
    <div class="content-wrapper container ">
        <div class="row mt-4">
            <div class="col-lg-12">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb default mb-0">
                        <li class="breadcrumb-item">
                            <a href="/" class="text-muted">Ìôà</a>
                        </li>
                        <li class="breadcrumb-item active text-primary" aria-current="page">ÏûêÏú†Í≤åÏãúÌåê</li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</section>
<!-- Start Notice -->
<section class="section position-relative overflow-hidden"
         style=" top: 90px; padding-bottom: 90px;">
    <div class="content-wrapper container ">
        <div class="row">
            <div class="col-lg-6">
                <h2 class="fw-bold">ÏûêÏú† Í≤åÏãúÌåê</h2>
                <p class="text-muted">ÏùºÏÉÅÏùÑ ÏûêÏú†Î°≠Í≤å Í≥µÏú†ÌïòÎäî ÏûêÏú†Í≤åÏãúÌåêÏûÖÎãàÎã§.üêæ</p>
            </div>
        </div>
        <hr class="my-4">
        <section class="flexbox pb-3">
            <div class="container">
                <section class="notice d-flex">
                    <div class="sch-cont">
                        <select class="">
                            <option value="title">Ï†úÎ™©</option>
                            <option value="writer">ÏûëÏÑ±Ïûê</option>
                            <option value="create_date">ÏûëÏÑ±Ïùº</option>
                        </select>
                        <input id="searchKeyword" name="searchKeyword" title="Í≤ÄÏÉâÏñ¥ ÏûÖÎ†•" class="q1" type="text" placeholder="Í≤ÄÏÉâÏñ¥ ÏûÖÎ†•" />
                        <a href="#none" onclick="fnCmdSearch();" class="btn btn-sm btn-outline-dark">Í≤ÄÏÉâ</a>
                        <button onclick="saveReq()" class="btn btn-sm">Í∏ÄÏì∞Í∏∞</button><br>
                    </div>
                </section>
                <th:block th:if="${session.loginDTO == null}"><!-- ÏÑ∏ÏÖòÍ∞í Í∞ÄÏ†∏Ïò§Îäî hidden input -->
                    <input type="hidden" id="memberNick">
                </th:block>

                <th:block th:unless="${session.loginDTO == null}">
                    <input type="hidden" id="memberNick" th:value="${session.loginDTO.getMemberNick()}"><!-- ÏÑ∏ÏÖòÍ∞í Í∞ÄÏ†∏Ïò§Îäî hidden input -->
                </th:block>

            </div>

            <!-- board list area -->
            <div class="container mt-3">
                <div class="demo-wrapper content-block pb-0">
                    <div class="table data-table">
                        <table class="table table-responsive">
                            <colgroup>
                                <col width="60%"/>
                                <col width="13.33%"/>
                                <col width="13.33%"/>
                                <col width="13.33%"/>
                            </colgroup>
                            <thead class="bgl-gray-light">
                            <tr>
                                <th class="text-center">Ï†úÎ™©</th>
                                <th class="text-center">ÏûëÏÑ±Ïûê</th>
                                <th class="text-center">ÏûëÏÑ±Ïùº</th>
                                <th class="text-center">Ï°∞ÌöåÏàò</th>

                            </tr>
                            </thead>
                            <tbody>
                                <th:block th:unless="${boardList.isEmpty()}"><!-- ÎπÑÏñ¥ÏûàÏßÄÏïäÏúºÎ©¥ blockÏúºÎ°ú Ïã∏ÏÑú Ï∂úÎ†• -->
                                    <span class="" th:each="board:${boardList}"><!-- board Í∏ÄÎ™©Î°ù Î∞òÎ≥µÏ∂úÎ†•ÏΩîÎìú -->
                                        <input type="hidden" th:value="${board.bno}"/>
                                        <tr><!-- Í∏Ä Î≤àÌò∏ -->
                                            <td>
                                                <a th:href="@{|/board/community/${board.bno}|}" th:text="${board.title}"  style="cursor: pointer;" ></a>
                                                <span th:if="${board.communityCommentDTOList!=null}" class="text-center"> <!-- ÎåìÍ∏ÄÎ¶¨Ïä§Ìä∏ -->
                                                [<span th:text="${board.communityCommentDTOList.size()}" class="text-center"></span>]<!-- ÎåìÍ∏ÄÏàò-->
                                            </span>
                                            </td><!-- Ï†úÎ™©-->
                                            <td class="text-center" th:text="${board.writer}"></td> <!-- Í∏ÄÏì¥Ïù¥ (ÎãâÎÑ§ÏûÑ)-->


                                            <td th:text="${#temporals.format(board.createDate,'yyyy-MM-dd')}"class="text-center"></td><!-- ÏûëÏÑ±Ïùº-->
                                            <td class="text-center" th:text="${board.getHits()}"></td>
                                        </tr>
                                    </span>
                                </th:block>


                            </tbody>
                        </table>
                    </div>
                    <div class="pt-3 text-center section">
                        <th:block th:if="${boardList.isEmpty()}"><!-- Í≤åÏãúÎ¨ºÏù¥ÏóÜÏùÑÎïå -->
                            Í≤åÏãúÎ¨ºÏù¥ ÏóÜÏñ¥Ïöî!
                        </th:block>
                    </div>
                    <hr class="my-3">
                    <div class="pagination-block">
                        <nav aria-label="navigation">
                            <ul id="page_list" class="pagination justify-content-center">
                                <!-- Ï≤´Î≤àÏß∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô -->
                                <!-- /board/paging?page=1 -->
                                <th:block th:if="${boardList.getTotalPages()!=1}">
                                    <li class="page-item"><a class="page-link" th:href="@{/board/proud/(page=1)}">Ï≤òÏùå</a></li>
                                    <!-- Ïù¥Ï†Ñ ÎßÅÌÅ¨ ÌôúÏÑ±Ìôî ÎπÑÌôúÏÑ±Ìôî -->
                                    <!-- noticeBoardList.getNumber() ÏÇ¨Ïö©Ïûê:2ÌéòÏù¥ÏßÄ getNumber()=1 -->
                                    <li class="page-item"><a class="page-link"
                                                             th:href="${boardList.first} ? '#' : @{/board/proud/(page=${boardList.number})}">Ïù¥Ï†Ñ</a>
                                    </li>
                                </th:block>
                                <th:block th:unless="${endPage!=1}">
                                    <li class="page-item"><a class="page-link" href="#">Ï≤òÏùå</a></li>
                                    <li class="page-item"><a class="page-link" href="#">Ïù¥Ï†Ñ</a></li>
                                </th:block>

                                <!-- ÌéòÏù¥ÏßÄ Î≤àÌò∏ ÎßÅÌÅ¨(ÌòÑÏû¨ ÌéòÏù¥ÏßÄÎäî Ïà´ÏûêÎßå)
                                        for(int page=startPage; page<=endPage; page++)-->
                                <th:block th:if="${boardList.getTotalPages()>=1}">
                        <span th:each="page: ${#numbers.sequence(startPage, endPage)}">
                        <!-- ÌòÑÏû¨ÌéòÏù¥ÏßÄÎäî ÎßÅÌÅ¨ ÏóÜÏù¥ Ïà´ÏûêÎßå -->
                            <li class="page-item"><span class="page-link" th:if="${page==boardList.number+1}"
                                                        th:text="${page}"></span></li>
                            <!-- ÌòÑÏû¨ÌéòÏù¥ÏßÄ Î≤àÌò∏Í∞Ä ÏïÑÎãå Îã§Î•∏ ÌéòÏù¥ÏßÄÎ≤àÌò∏ÏóêÎäî ÎßÅÌÅ¨Î•º Î≥¥Ïó¨Ï§å -->
                            <li class="page-item"><span th:unless="${page==boardList.number+1}">
                                <a class="page-link" th:href="@{|/board/proud/?page=${page}|}" th:text="${page}"></a>
                            </span></li>
                        </span>
                                </th:block>
                                <!-- Îã§Ïùå ÎßÅÌÅ¨ ÌôúÏÑ±Ìôî ÎπÑÌôúÏÑ±Ìôî
                                    ÏÇ¨Ïö©Ïûê: 2ÌéòÏù¥ÏßÄ, getNumber: 1, 3ÌéòÏù¥ÏßÄ-->
                                <th:block th:if="${!boardList.isLast()}">
                                    <li class="page-item"><a class="page-link"
                                                             th:href="${boardList.last} ? '#' : @{/board/proud/(page=${boardList.number + 2})}">Îã§Ïùå</a>
                                    </li>
                                    <!-- ÎßàÏßÄÎßâ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô -->
                                    <li class="page-item"><a class="page-link"
                                                             th:href="${boardList.last}? '#' : @{/board/proud/(page=${boardList.totalPages})}">ÎßàÏßÄÎßâ</a>
                                    </li>
                                </th:block>
                                <th:block th:unless="${!boardList.isLast()}">
                                    <li class="page-item"><a class="page-link" href="#">Îã§Ïùå</a></li>
                                    <li class="page-item"><a class="page-link" href="#">ÎßàÏßÄÎßâ</a></li>
                                </th:block>
                            </ul>
                        </nav>
                    </div>
                            </div>
                        </div>
                    </section>
                </div>
            </section>
<!-- start footer -->
<footer>
    <div th:replace="/footer :: footer"></div>
</footer>
<!-- end footer-->
        </body>
<script th:inline="javascript">
    const saveReq = () => {
        const nick = document.querySelector("#memberNick").value;

        alert(nick);
        if(nick == '' || nick == null){
            alert("Î°úÍ∑∏Ïù∏ ÌõÑ Ïù¥Ïö© Í∞ÄÎä•Ìï©ÎãàÎã§.");
            location.href="/member/login";
        } else {
            location.href="/board/community/save"
        }
    }
</script>
<!-- Scrollup -->
<script src="/js/jquery.scrollUp.min.js"></script>
<!--Bootstrap Js-->
<script src="/js/bootstrap.bundle.min.js"></script>
<!-- Scrollup -->
<script src="/js/jquery.scrollUp.min.js"></script>
</html>